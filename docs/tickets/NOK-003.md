# NOK-003: Deployment

## Background

The team wants to deploy the API using Terraform to an AWS Lambda with a Docker container. The deployment mechanism needs to support multiple environment so the team wants to keep the Terraform DRY. Eventually, the team wants a CI pipeline with either Github Actions or CircleCI to build the Docker image and publish it to AWS ECR and to provision the Terraform to the correct environment.

## Requirements

* Use Terraform to provision an AWS Lambda that runs from a Docker image
* Keep Terraform code DRY across environments
* Support multiple environments from the same Terraform

## Task

Your task is to do the following:

1. Implement the Terraform that will provision an AWS Lambda using an ECR image that will be published for the API application
2. Keep the Terraform DRY while allowing for executing the Terraform for different environments

### Extra Credit

* Create a CI pipeline that builds and publishes a Docker image when a commit is pushed and tags the image accordingly
